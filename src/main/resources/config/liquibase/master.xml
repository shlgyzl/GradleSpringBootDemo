<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    <!-- 定义全局变量 -->
    <property name="now" value="now()" dbms="h2" global="true"/>
    <property name="now" value="now()" dbms="mysql" global="true"/>
    <property name="now" value="select sysdate from dual"

    <property name="autoIncrement" value="true" global="true"/>

    <!-- 字符集+中文存储 -->
    <property name="varchar" value="varchar(255)" dbms="mysql" global="true"/>
    <property name="varchar" value="nvarchar2(255)" dbms="oracle" global="true"/>
    <property name="varchar" value="nvarchar2(255)" dbms="mssql" global="true"/>

    <!-- Long整型存储 -->
    <property name="bigint" value="bigint" dbms="mysql" global="true"/>
    <property name="bigint" value="number(18,0)" dbms="oracle" global="true"/>
    <property name="bigint" value="number(18,0)" dbms="mssql" global="true"/>

    <!-- 浮点类型存储 -->
    <property name="decimal" value="decimal(18,2)" dbms="mysql" global="true"/>
    <property name="decimal" value="number(18,2)" dbms="oracle" global="true"/>
    <property name="decimal" value="decimal(20,2)" dbms="mssql" global="true"/>

    <!-- Bit类型存储 -->
    <property name="bit" value="bit" dbms="mysql" global="true"/>
    <property name="bit" value="number(1,0)" dbms="oracle" global="true"/>
    <property name="bit" value="bit" dbms="mssql" global="true"/>

    <!-- 日期类型存储 -->
    <property name="timestamp" value="timestamp" dbms="mysql" global="true"/>
    <property name="timestamp" value="timestamp(6)" dbms="oracle" global="true"/>
    <property name="timestamp" value="datetime2(6)" dbms="mssql" global="true"/>

    <!-- 二进制类型存储 -->
    <property name="blob" value="longblob" dbms="mysql" global="true"/>
    <property name="blob" value="blob" dbms="oracle" global="true"/>
    <property name="blob" value="image" dbms="mssql" global="true"/>

    <!-- 纯文本类型存储 -->
    <property name="text" value="mediumtext" dbms="mysql" global="true"/>
    <property name="text" value="clob" dbms="oracle" global="true"/>
    <property name="text" value="ntext" dbms="mssql" global="true"/>

    <property name="uuid_type" value="uuid" dbms="postgresql" global="true"/>
    <property name="uuid_type" value="uniqueidentifier" dbms="mssql" global="true"/>
    <property name="uuid_type" value="RAW(16)" dbms="oracle" global="true"/>
    <property name="uuid_type" value="uuid_type" dbms="mysql" global="true"/>
    <property name="uuid_type" value="uuid_type" dbms="h2" global="true"/>

    <property name="uuid_function" value="uid.uuid_generate_v4()" dbms="postgresql" global="true"/>
    <property name="uuid_function" value="NEWID()" dbms="mssql" global="true"/>
    <property name="uuid_function" value="sys_guid()" dbms="oracle" global="true"/>
    <property name="uuid_function" value="uuid()" dbms="mysql" global="true"/>
    <property name="uuid_function" value="uuid()" dbms="h2" global="true"/>

    <!-- 实体 -->
    <include file="config/liquibase/changlog/entity/dam/Dam.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/user/User.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/defect_type/DefectType.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/defect_type_property/DefectTypeProperty.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/role/Role.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/authority/Authority.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/attachment/Attachment.xml" relativeToChangelogFile="false"/>

    <!-- 关系表 -->
    <include file="config/liquibase/changlog/relation/UserDam.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/relation/RoleAuthority.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/relation/UserRole.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/user_role/UserRole20200320003004.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/user_dam/UserDam20200320002833.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/role_authority/RoleAuthority20200320003109.xml"
             relativeToChangelogFile="false"/>

    <!-- 实体更新 -->
    <include file="config/liquibase/changlog/entity/dam/Dam20191127220432.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/user/User20191127222239.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/defect_type_property/DefectTypeProperty20191127234127.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/defect_type_property/DefectTypeProperty20191127235350.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/dam/Dam20191201134001.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/defect_type/DefectType20191201134934.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/defect_type_property/DefectTypeProperty20191201135123.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/user/User20191201135318.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/user/User20191201142011.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/defect_type_property/DefectTypeProperty20200109224049.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/user/User20200309225630.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/persistent_token/persistent_token.xml"
             relativeToChangelogFile="false"/>

    <!-- 约束更新 -->
    <include file="config/liquibase/changlog/entity/constraint/DefectTypeConstraint.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/constraint/DefectTypePropertyConstraint.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/constraint/UserDamConstraint.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/constraint/RoleAuthorityConstraint.xml"
             relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/constraint/UserRoleConstraint.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/entity/constraint/PersistentTokenUserConstraint.xml"
             relativeToChangelogFile="false"/>

    <!-- 初始化数据及更新 -->
    <include file="config/liquibase/changlog/init/Init.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/init/init20191127224750.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/init/init20191130112229.xml" relativeToChangelogFile="false"/>
    <include file="config/liquibase/changlog/init/init20200320005834.xml" relativeToChangelogFile="false"/>

</databaseChangeLog>
